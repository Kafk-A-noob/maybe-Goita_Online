# May be ごいた Online (Ver 0.8β)

## 謝辞
本ゲームは能登地方の伝統文化「ごいた」を題材にしています。 伝統を保存・継承してこられた保存会の皆様に敬意を表します。

## 概要
これは、能登地方に伝わる伝統的な対戦型テーブルゲーム「ごいた」をWebブラウザで手軽に遊べるように実装したものです。
シングルプレイ（1人 vs 3CPU）とマルチプレイ（オンライン対戦）の両方に対応しています。
また、素人が思いつきで作成したものであるため、コードレビューやプレイレビューの際はお手柔らかにお願いいたします。

---

## ゲームをプレイする
以下のURLからすぐにプレイできます。特別なインストールは不要です。

[ゲームをプレイ](https://kafk-a-noob.github.io/maybe-Goita_Online/)

### 遊び方

#### シングルプレイ
*   **1人 vs 3CPU** で対戦します。
*   あなたは常に「チームA」のプレイヤーとなり、対面のCPUとペアを組みます。
*   手軽にルールを覚えたり、練習するのに最適です。

#### マルチプレイ
*   **オンラインで他のプレイヤーと対戦** できます。
*   **部屋を作成**: 好きな名前を入力して部屋を作ると、4文字の「あいことば」が発行されます。
*   **部屋に参加**: 友達から教えてもらった「あいことば」を入力して部屋に参加します。
*   **人数不足**: 4人揃わない場合は、空き枠に自動的にCPUが補充されます。
*   **ホスト機能**: 部屋を作ったプレイヤー（ホスト）がゲームの進行を管理します。
*
---
### 操作方法

手番が来た際の操作は以下の通りです。

1. **受けるコマ**を選択します。
2. **攻めるコマ**を選択します。
3. 以下のいずれかの操作で決定します。
   - 画面上の**受けて攻める**（または「攻める」）ボタンを押す
   - 選択した攻めるコマを**ダブルクリック**する

## パスする場合
**パス**ボタンを押してください。

## ルールについて
「ごいた」の詳しいルールや遊び方については、以下のサイトなどを参考にしてください。
*   [日本ごいた協会](http://goita.jp/)
*   [ごいた - Wikipedia](https://ja.wikipedia.org/wiki/%E3%81%94%E3%81%84%E3%81%9F)
---
## ChangeLog

### 25/12/08 - 
   ## Ver 0.8β (マルチプレイ安定化とUX改善)
   *   **マルチプレイの大幅改善**:
       *   ゲーム開始の問題を修正（ホストが開始ボタンを押してもゲームが始まらない問題を解決）
       *   次ラウンド進行の修正（盤面リセットと手札再配布が正しく動作するように修正）
       *   ホスト・ゲスト間のアクション同期を実装
       *   ネットワークコードの重複削除と最適化
   *   **UI/UX改善**:
       *   タイトル画面にバージョン番号を表示（右下）
       *   「ごいたとは？」（Wikipedia）と「ルールページ」（PDF）へのリンクを追加
       *   ゲーム画面のレイアウト調整
   *   **ドキュメント整備**:
       *   README更新
       *   実装済み機能とルールの一覧ドキュメント作成
       *   MIT LICENSEの追加
  
   ## Ver 0.6 (UI改善とバグ修正)
   *   **王ルールの修正**: 場に出ている王もカウント対象とし、手札に王が1枚でも攻められるように修正
   *   **視認性の向上**: 2枚ある王のうち1枚を「玉」として表示（ルールは同じ）
   *   **ダブルアップ修正**: 攻め（リード）でペアを出して上がった際、伏せカードを公開し、得点を正しく倍増するように修正
   *  **UI改善**:
       * 設定メニューの追加（ルームID確認、ネットワークログ切替）
       * ルームIDのコピー＆ペースト機能を追加
       * ネットワークログをデフォルトで非表示に変更
       * タイトルを「May be ごいた Online」に変更
   
   ## Ver:0.4 (マルチプレイ対応)
   * **オンライン対戦の実装**: 離れた友達と遊べるようになりました。
   * **ロビー機能**: 部屋の作成、参加、待機ができるロビー画面を追加
   * **同期システムの強化**:
      * 手番や出したカードがリアルタイムで同期されます。
      * ラウンド終了時、全員の準備が整うまで次のラウンドが始まらない「待機機能」を実装しました。
   *   **UIの改善**:
       *   「誰の番か」「何で攻められているか」がひと目で分かるようになりました。

### 25/12/05 - 
   ## Ver:0.2 (基本プレイ可能)
   *   **基本プレイ可能**: シングルプレイが可能になりました。

---

## 使用技術
*   フロントエンド: HTML, CSS, JavaScript (Vanilla)
*   ビルドツール: Vite
*   バックエンド (通信): Firebase Realtime Database
*   開発支援: Antigravity (Google DeepMind)

## 開発について
本プロジェクトは、能登の伝統的なゲーム「ごいた」をAntiGravityに作らせられるんじゃね？ という軽いノリで作成されました。

## ライセンス
本プロジェクトは [MIT License](LICENSE) のもとで公開されています。
Copyright (c) 2025 [Kafk-A-noob]
